<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="styles/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">

    </head>
    
    <body>
        <header>
            <img src="imagenes/logokt.png" alt="logoKTDev">
        </header>
        <main>
            <section class="primeraseccion">
                <textarea class="areatexto" placeholder="Ingrese el texto aquí"></textarea>
                <div class="cont-button">
                    <p class="parrafo-aclaracion">&#9888; Solo letras minúsculas y sin acentos</p>
                    <input type="button" value="Encriptar" class="btn-encriptar">
                    <input type="button" value="Desencriptar" class="btn-desencriptar">
                </div>
            </section>
            <section class="segundaseccion">
                <div class="cont-muneco">
                    <img src="imagenes/Muneco.png" width="80%">
                </div>
                <div class="cont-titulo">
                    <h3>Ningún mensaje fué encontrado</h3>
                </div>
                <div class="cont-instruccion">
                    <p>Ingresa el texto que deseas enctriptar o desencriptar</p>
                </div>
                <div class="cont-txt-encriptado">
                    <h3>Mensaje encriptado:</h3>
                    <p class="txt-encriptado"></p>
                </div>
                <div class="cont-btn-copiar">
                    <input type="button" class="btn-copiar" value="Copiar">
                </div>
            </section>

        </main>
        <footer>
            <p>Catherine Escobar</p>
            

        </footer>
        
    </body>
</html>

<script>
var botonEncriptar = document.querySelector(".btn-encriptar");
    botonEncriptar.onclick = encriptar;
var botonDesencriptar = document.querySelector(".btn-desencriptar");
    botonDesencriptar.onclick = desencriptar;
var botonCopiar = document.querySelector(".btn-copiar");
    botonCopiar.onclick = copiar;
var ilustracion = document.querySelector(".cont-muneco");
var titulo2 = document.querySelector(".cont-titulo");
var instruccion = document.querySelector(".cont-instruccion");
var textoEncriptado = document.querySelector(".txt-encriptado");
var txtarea = document.querySelector(".areatexto");


function encriptar(){
    mostrarFront2(); 
    if(!validarMensaje()) return;
    textoEncriptado.textContent = encriptarTxt(recuperar());
    textoEncriptado.textContent = recuperar();
}

function desencriptar(){
    mostrarFront2();
    if(!validarMensaje()) return;
    textoEncriptado.textContent = desencriptarTxt(recuperar());
}

function mostrarFront2(){
    ilustracion.classList.add("ocultar");
    titulo2.classList.add("ocultar");
    instruccion.classList.add("ocultar");

}

function recuperar(){
    var txtarea = document.querySelector(".areatexto");
    return txtarea.value;
}

function recuperarResultado(){
    var presultado = document.querySelector(".txt-Encriptado");
    navigator.clipboard.writeText(presultado.innerHTML);
    

}

function copiar(){
    textoEncriptado.textContent = recuperarResultado();
}

function encriptarTxt(mensaje){
    var textoRecibido = mensaje;
    var textoAcumulado = "";
    for(var i = 0; i<textoRecibido.length; i++){
        if(textoRecibido[i] == "a"){
            textoAcumulado = textoAcumulado + "ai"
        }
        else if(textoRecibido[i] == "e"){
            textoAcumulado = textoAcumulado + "enter"
        }
        else if(textoRecibido[i] == "i"){
            textoAcumulado = textoAcumulado + "imes"
        }
        else if(textoRecibido[i] == "o"){
            textoAcumulado = textoAcumulado + "ober"
        }
        else if(textoRecibido[i] == "u"){
            textoAcumulado = textoAcumulado + "ufat"
        }
        else{
            textoAcumulado = textoAcumulado + textoRecibido[i];
        }
    }
    return textoAcumulado;
}

function desencriptarTxt(mensaje){
    var textoRecibido = mensaje;
    var textoAcumulado = "";
    for(var i = 0; i<textoRecibido.length; i++){
        if(textoRecibido[i] == "a"){
            textoAcumulado = textoAcumulado + "a";
            i = i + 1;
        }
        else if(textoRecibido[i] == "e"){
            textoAcumulado = textoAcumulado + "e";
            i = i + 4;
        }
        else if(textoRecibido[i] == "i"){
            textoAcumulado = textoAcumulado + "i";
            i = i + 3;
        }
        else if(textoRecibido[i] == "o"){
            textoAcumulado = textoAcumulado + "o";
            i = i + 3;
        }
        else if(textoRecibido[i] == "u"){
            textoAcumulado = textoAcumulado + "u";
            i = i + 3;
        }
        else{
            textoAcumulado = textoAcumulado + textoRecibido[i];
        }
    }
    return textoAcumulado;

}


/*
function escuchar(){
    var mensajecopiado = textoEncriptado.textContent;
    let msg = new SpeechSynthesisUtterance();
    msg.text = mensajecopiado;
    msg.lang = "es-Es";
    window.SpeechSynthesis.speak(msg); 
}


function desencriptar(){

    var encriptado= entrada.value;
    var texto = encriptado.replaceAll("enter","e").replaceAll("imes","i").replaceAll("ai","a").replaceAll("ober","o").replaceAll("ufat","u");
    salida.value = texto;    
}*/





    



    
</script>